Target package: pip3 nvidia-ml-py 11.460.79
https://github.com/ganglia/gmond_python_modules/tree/master/gpu/nvidia
docs:
https://developer.download.nvidia.com/compute/DCGM/docs/nvidia-smi-367.38.pdf

#### Kill Processes After Training complete #######
$ sudo pkill vmstat
$ sudo pkill nvidia-smi
$ sudo pkill iptraf-ng
$ sudo pkill python



$ sudo pkill tcpstat



##### FINAL TESTED LINE ####### 
$ cd output
$ sudo chmod 777 ./
$ sudo nvidia-smi dmon -s tu -o DT -d 1 -f "nvidia-logs" &
##### FINAL TEST LINE #########
$ cd output
$ vmstat 1 -t > systemlogs.txt &
####### FINAL TESTED LINE ########
$ cd output
$ sudo iptraf-ng -i eth0 -B -L ./netlogs &




wget https://frenchfries.net/paul/tcpstat/tcpstat-1.5.tar.gz
tar -zxvf tcpstat-1.5.tar.gz
cd tcpstat-1.5
sudo yum install gcc
sudo yum install libpcap*
./configure
make
sudo make install
sudo chmod u+s /usr/local/bin/tcpstat
tcpstat -i eth0 -f 'tcp port 8888' -e -o "Time:%S\tTCPpackets=%T\tbytes=%N\tavgpacketsize=%a\tBps=%B\tnetworkload=%l\n" -F 1 > networklogs.txt &
$ sudo yum install iptraf
   ## Monitors all IP Traffic






$ cd output
$ sudo yum install iptraf
$ sudo iptraf-ng -i eth0 -B -L ./IPtraffic    ## Monitors all IP Traffic

sudo pkill iptraf-ng

https://www.systutorials.com/docs/linux/man/8-iptraf-ng/


##### TESTING FILEPATHS ####### 
$ cd output
$ sudo chmod 777 ./
$ sudo nvidia-smi dmon -s tu -o DT -d 1 -f output/nvidia-logs-rank-n
##### TESTING FILEPATHS #########
$ cd output
$ vmstat 1 -t > output/node-logs-rank-n.txt
####### TESTING FILEPATHS #######
$ sudo yum install iptraf
$ sudo iptraf-ng -i eth0 -B -L ./netlogs &    ## Monitors all IP Traffic
$ sudo iptraf-ng -z eth0 -B -L /output/netlogs2    ## Monitors packet sizes
$ sudo iptraf-ng -d eth0 -B -L /output/netlogs3    ## Unsure, Monitors detailed, ??? 


wget https://frenchfries.net/paul/tcpstat/tcpstat-1.5.tar.gz
cd tcpstat-1.5.tar.gz
sudo yum install gcc
sudo yum install libpcap*
./configure
make
sudo make install
sudo chmod u+s /usr/local/bin/tcpstat
tcpstat -i eth0 -f 'tcp port 8888' -e -o "Time:%S\tTCPpackets=%T\tbytes=%N\tavgpacketsize=%a\tBps=%B\tnetworkload=%l\n" -F 1 > test.txt



tcpstat -i eth0 -e -o "Time:%S\tTCPpackets=%T\tbytes=%N\tavgpacketsize=%a\tBps=%B\tnetworkload=%l\n" -F 1 > test.txt


tcpstat -i eth0 -f 'tcp port 8888' -e -o "Time:%S\tTCPpackets=%T\tbytes=%N\tavgpacketsize=%a\tBps=%B\tnetworkload=%l\n" -F 1 > test.txt



####NOTE: Look into TCPstat as an alternative  #https://linux.die.net/man/1/tcpstat


######### Monitoring TCP traffic on port 8888
https://manpages.debian.org/unstable/iptables/iptables.8.en.html
### Try 

$ sudo tcpdump -i any port 8888 -w 'TCP-logs-noderank-0' -s 96


$ sudo top -d 5 -b top-output.txt
## System Utiliz

# -I flag, insert chain RULENUMBER. Can monitor INPUT, OUTPUT, FORWARD, REROUTING


$ sudo iptables -I INPUT -p tcp --dport 8888 --syn -j LOG --log-prefix "DDP-UDP-logs-Rank-0: "
$ sudo iptables -I OUTPUT -p tcp --dport 8888 --syn -j LOG --log-prefix "DDP-UDP-logs-Rank-0: "
$ sudo iptables -I FORWARD -p tcp --dport 8888 --syn -j LOG --log-prefix "DDP-UDP-logs-Rank-0: "
https://superuser.com/questions/604998/monitor-tcp-traffic-on-specific-port
